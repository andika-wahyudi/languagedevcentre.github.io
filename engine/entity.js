export class Entity { constructor({x,y,w=16,h=16,speed=60}){ this.x=x; this.y=y; this.w=w; this.h=h; this.speed=speed; this.vx=0; this.vy=0; this.sprite=null; this.frame=0; this.frameTime=0; this.frameSpeed=0.12; this.facing='down'; this.type='entity'; } update(dt,map){} animate(dt, framesPerDir){ this.frameTime += dt; if(this.frameTime >= this.frameSpeed){ this.frameTime=0; this.frame = (this.frame+1) % framesPerDir; } } draw(ctx, camera, tileset, framesPerDir){ if(!tileset) return; const dirIndex = {down:0,right:1,up:2,left:3}[this.facing]; const sx = (this.frame + dirIndex*framesPerDir) * this.w; ctx.drawImage(tileset, sx, 0, this.w, this.h, Math.floor(this.x - camera.x), Math.floor(this.y - camera.y), this.w, this.h); } }